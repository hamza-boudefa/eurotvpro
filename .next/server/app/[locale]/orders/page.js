(()=>{var e={};e.id=563,e.ids=[563],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},82574:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(70260),a=s(28203),i=s(25155),n=s.n(i),l=s(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["[locale]",{children:["orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3688)),"C:\\Users\\OMAR\\Desktop\\euro\\eurotvpro\\src\\app\\[locale]\\orders\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,51341)),"C:\\Users\\OMAR\\Desktop\\euro\\eurotvpro\\src\\app\\[locale]\\layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,56619)),"C:\\Users\\OMAR\\Desktop\\euro\\eurotvpro\\src\\app\\[locale]\\loading.tsx"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["C:\\Users\\OMAR\\Desktop\\euro\\eurotvpro\\src\\app\\[locale]\\orders\\page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/[locale]/orders/page",pathname:"/[locale]/orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},37892:(e,t,s)=>{Promise.resolve().then(s.bind(s,3688))},61860:(e,t,s)=>{Promise.resolve().then(s.bind(s,73571))},73571:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(45512),a=s(58009),i=s.n(a),n=s(85668),l=s(24540),o=s(94825);let d=(0,o.A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),c=(0,o.A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),p=(0,o.A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),x=(0,o.A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var u=s(7833),h=s(11302),m=s.n(h);function g(){let[e,t]=(0,a.useState)([]),[s,o]=(0,a.useState)(new Set),[h,g]=(0,a.useState)(1),[y,j]=(0,a.useState)(1),[b,f]=(0,a.useState)(!1),[v,N]=(0,a.useState)(()=>"all"),[w,k]=(0,a.useState)(""),[C,A]=(0,a.useState)(""),[q,P]=(0,a.useState)(""),[M,S]=(0,a.useState)(""),[_,D]=(0,a.useState)(""),O=async()=>{f(!0);try{let e=await n.A.get("https://eurotvpro-eurotvpro-back.jvskd1.easypanel.host/admin/orders",{params:{page:h,filter:v,fullName:w,status:C,email:M,phoneNumber:_}});t(e.data?.orders||[]),j(e.data?.totalPages||1)}catch(e){console.error("Error fetching orders:",e)}finally{f(!1)}},R=async(e,t)=>{try{let s=await n.A.put(`https://eurotvpro-eurotvpro-back.jvskd1.easypanel.host/api/updateOrderStatus/${e}`,{status:t});console.log("Order status updated:",s.data),O()}catch(e){console.error("Error updating order status:",e)}},E=e=>{o(t=>{let s=new Set(t);return s.has(e)?s.delete(e):s.add(e),s})},U=e=>{N(e),g(1)},L=e=>new Date(e).toLocaleDateString(),$=m()(e=>{k(e)},1e3),z=m()(e=>{S(e)},1e3),F=m()(e=>{D(e)},1e3);return(0,r.jsxs)("div",{className:"admin-orders bg-black text-white min-h-screen py-8 px-4 sm:px-6 lg:px-8 z-[9999999]",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-100",children:"Admin - Orders"}),(0,r.jsxs)("div",{className:"mb-4 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"space-x-2",children:[(0,r.jsx)("button",{onClick:()=>U("all"),className:`px-3 py-1 rounded ${"all"===v?"bg-blue-600":"bg-gray-700"}`,children:"All"}),(0,r.jsx)("button",{onClick:()=>U("today"),className:`px-3 py-1 rounded ${"today"===v?"bg-blue-600":"bg-gray-700"}`,children:"Today"}),(0,r.jsx)("button",{onClick:()=>U("lastWeek"),className:`px-3 py-1 rounded ${"lastWeek"===v?"bg-blue-600":"bg-gray-700"}`,children:"Last Week"}),(0,r.jsx)("button",{onClick:()=>U("lastMonth"),className:`px-3 py-1 rounded ${"lastMonth"===v?"bg-blue-600":"bg-gray-700"}`,children:"Last Month"}),(0,r.jsx)("input",{type:"text",placeholder:"Full Name",defaultValue:w,onChange:e=>$(e.target.value),className:"px-3 py-1 rounded bg-gray-700 text-white"}),(0,r.jsxs)("select",{defaultValue:C,onChange:e=>A(e.target.value),className:"px-3 py-1 rounded bg-gray-700 text-white",children:[(0,r.jsx)("option",{value:"",children:"All Statuses"}),(0,r.jsx)("option",{value:"on hold",children:"On Hold"}),(0,r.jsx)("option",{value:"confirmed",children:"Confirmed"})]}),(0,r.jsx)("input",{type:"text",placeholder:"Email",defaultValue:M,onChange:e=>z(e.target.value),className:"px-3 py-1 rounded bg-gray-700 text-white"}),(0,r.jsx)("input",{type:"text",placeholder:"Phone Number",defaultValue:_,onChange:e=>F(e.target.value),className:"px-3 py-1 rounded bg-gray-700 text-white"}),(0,r.jsx)("button",{onClick:()=>{k(""),A(""),P(""),S(""),D(""),N("all"),g(1)},className:"px-3 py-1 rounded bg-gray-700 hover:bg-gray-600",children:"Reset Filters"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("button",{onClick:()=>{O()},className:"p-1 bg-gray-700 rounded hover:bg-gray-600 transition-colors duration-200",disabled:b,children:(0,r.jsx)(d,{className:`w-5 h-5 ${b?"animate-spin":""}`})}),(0,r.jsx)("button",{onClick:()=>g(e=>Math.max(e-1,1)),disabled:1===h||b,className:"p-1 bg-gray-700 rounded disabled:opacity-50",children:(0,r.jsx)(c,{className:"w-5 h-5"})}),(0,r.jsxs)("span",{className:"whitespace-nowrap",children:[h," / ",y]}),(0,r.jsx)("button",{onClick:()=>g(e=>Math.min(e+1,y)),disabled:h===y||b,className:"p-1 bg-gray-700 rounded disabled:opacity-50",children:(0,r.jsx)(p,{className:"w-5 h-5"})})]})]}),b?(0,r.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full bg-gray-800 shadow-lg rounded-lg overflow-hidden",children:[(0,r.jsx)("thead",{className:"bg-gray-700",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Date"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Name"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Phone"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Payment"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Total"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Status"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Confirmation Date"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Items"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-700",children:e.map(e=>(0,r.jsxs)(i().Fragment,{children:[(0,r.jsxs)(l.P.tr,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"bg-black hover:bg-gray-700 transition-colors duration-150 ease-in-out",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-300",children:L(e.createdAt)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"text-sm font-medium text-gray-100",children:[e.firstName," ",e.lastName]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-300",children:e.email})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-300",children:e.phoneNumber})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-300",children:e.paymentMethod})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"text-sm font-medium text-green-400",children:[e.totalAmount,"€"]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("select",{value:e.status||"on hold",onChange:t=>R(e.id,t.target.value),className:"bg-gray-700 text-white px-2 py-1 rounded",children:[(0,r.jsx)("option",{value:"on hold",children:"On Hold"}),(0,r.jsx)("option",{value:"confirmed",children:"Confirmed"})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:"confirmed"===e.status?L(e.updatedAt):"N/A"}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("button",{className:"flex items-center text-blue-400 hover:text-blue-300 transition-colors duration-200",onClick:()=>E(e.id),children:s.has(e.id)?(0,r.jsxs)(r.Fragment,{children:["Hide ",(0,r.jsx)(x,{className:"ml-1"})]}):(0,r.jsxs)(r.Fragment,{children:["Show ",(0,r.jsx)(u.A,{className:"ml-1"})]})})})]}),s.has(e.id)&&(0,r.jsx)(l.P.tr,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:(0,r.jsx)("td",{colSpan:9,className:"px-6 py-4 bg-gray-700",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-600",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Duration"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Price"}),(0,r.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Quantity"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-600",children:e.items.map((e,t)=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-300",children:e.duration}),(0,r.jsxs)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-300",children:[e.price,"€"]}),(0,r.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-300",children:e.quantity})]},t))})]})})})]},e.id))})]})})]})}},3688:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\OMAR\\\\Desktop\\\\euro\\\\eurotvpro\\\\src\\\\app\\\\[locale]\\\\orders\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\OMAR\\Desktop\\euro\\eurotvpro\\src\\app\\[locale]\\orders\\page.tsx","default")},7833:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(94825).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[403,549,668,236,553],()=>s(82574));module.exports=r})();