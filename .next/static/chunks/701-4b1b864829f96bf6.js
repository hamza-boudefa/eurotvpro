"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[701],{114:(e,t,s)=>{s.d(t,{SectionTitle:()=>c});var a=s(5155),r=s(7266),l=s(6046),o=s(457),n=s.n(o);let c=e=>{let{translation:t}=e,s=(0,l.useParams)(),o=(0,r.useTranslations)(t);return o("title")?(0,a.jsx)("h2",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-center mb-16",children:(0,a.jsx)("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-2 sm:gap-4 ".concat("ar"!==s.locale?n().className:""),children:(0,a.jsx)("span",{className:"text-5xl sm:text-8xl stroke-text mb-8 ".concat("ar"===s.locale?"text-white":"text-stroke-custom text-transparent text-black"),children:o("title")})})}):(0,a.jsx)("h2",{children:"Error: Title translation not found!"})}},6280:(e,t,s)=>{s.d(t,{default:()=>x});var a=s(5155),r=s(5565),l=s(7278),o=s(4790),n=s(2115),c=s(7266),i=s(114),d=s(2651);function x(){let e=(0,c.useTranslations)("subscriptionsApp"),{setSubscriptionCount:t}=(0,o.R)(),[s,x]=(0,n.useState)([]),[m,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{(async()=>{try{let e=await d.A.get("".concat("https://eurotvpro-eurotvpro-back.jvskd1.easypanel.host","/admin/apps/getAllApps"));console.log(e),e.data&&Array.isArray(e.data)?(console.log(e.data),x(e.data)):console.error("Invalid API response format")}catch(e){console.error("Error fetching subscriptions:",e)}finally{u(!1)}})()},[]),(0,n.useEffect)(()=>{t((0,l.je)().reduce((e,t)=>e+(t.quantity||1),0))},[t]);let p=e=>{(0,l.bE)(e),t((0,l.je)().reduce((e,t)=>e+(t.quantity||1),0))},h=()=>{window.location.href="https://api.whatsapp.com/send/?phone=%2B21654239788&text&type=phone_number&app_absent=0"};return(0,a.jsx)("section",{className:"bg-black text-white py-16 px-4 md:py-24",children:s&&s.length>0&&(0,a.jsxs)("div",{className:"container mx-auto max-w-6xl",children:[(0,a.jsx)(i.SectionTitle,{translation:"subscriptionsApp"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:m?[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"border border-gray-700 rounded-lg p-6 animate-pulse",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-gray-700 mx-auto mb-4 rounded"}),(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-3/4 mx-auto mb-2"}),(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded w-1/2 mx-auto mb-4"}),(0,a.jsx)("div",{className:"h-10 bg-gray-700 rounded w-full"})]},t)):s.map(t=>(0,a.jsxs)("div",{className:"border border-red-600 rounded-lg p-6 flex flex-col",children:[(0,a.jsx)(r.default,{src:t.image?"".concat("https://eurotvpro-eurotvpro-back.jvskd1.easypanel.host").concat(t.image):"/placeholder.svg",alt:t.name,width:100,height:100,className:"mx-auto mb-4 object-cover"}),(0,a.jsx)("h3",{className:"text-xl font-bold mb-2 text-center",children:t.name}),(0,a.jsx)("p",{className:"text-3xl font-bold mb-4 text-center",children:t.promo?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"relative inline-block text-[23px] text-gray-500 custom-strike mr-2",children:[t.price,"€"]}),(0,a.jsxs)("span",{className:"text-white",children:[t.promo,"TND"]})]}):(0,a.jsxs)("span",{children:[t.price,"TND"]})}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 mt-auto",children:[(0,a.jsx)("button",{onClick:()=>p(t),className:"bg-red-600 text-white py-2 px-4 rounded hover:bg-red-700 transition-colors",children:e("add_to_cart")}),(0,a.jsx)("button",{onClick:()=>h(),className:"border border-white text-white py-2 px-4 rounded hover:bg-white hover:text-black transition-colors",children:e("subscribe_now")})]})]},t.id))})]})})}},8528:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var a=s(5155),r=s(7193),l=s(7278),o=s(4790),n=s(2115),c=s(6046),i=s(7266),d=s(114);function x(){let e=(0,i.useTranslations)("plans"),{setSubscriptionCount:t}=(0,o.R)(),[s,x]=(0,n.useState)(0),[m,u]=(0,n.useState)([]),[p,h]=(0,n.useState)(!0),[b,g]=(0,n.useState)(null),v=(0,c.useRouter)(),f=(0,i.useLocale)();(0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat("https://eurotvpro-eurotvpro-back.jvskd1.easypanel.host","/admin/plans/getPlansByLang?language=").concat(f));if(!e.ok)throw Error("Failed to fetch plans");let t=await e.json();t.forEach(e=>{console.log(e),e.PlanTranslations.forEach(e=>{e.features=JSON.parse(e.features)})}),console.log(t),u(t)}catch(e){g(e.message)}finally{h(!1)}})()},[]);let j=e=>{(0,l.bE)(e),x(s+1)};(0,n.useEffect)(()=>{t((0,l.je)().length)},[s]);let N=e=>{j(e),v.push("/cart")};console.log(m);let w=m.map(e=>{var t,s;return{duration:(null===(t=e.PlanTranslations[0])||void 0===t?void 0:t.duration)||"Unknown Duration",price:"".concat(e.price,"TND"),promoPrice:"".concat(e.promoPrice,"TND"),features:(null===(s=e.PlanTranslations[0])||void 0===s?void 0:s.features)?e.PlanTranslations[0].features:["No features available"],isBestValue:e.isBestValue}});return p?(0,a.jsx)("section",{className:"bg-black text-white py-16 px-4 md:py-24",children:(0,a.jsxs)("div",{className:"container mx-auto max-w-6xl",children:[(0,a.jsx)(d.SectionTitle,{translation:"plans"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"border border-gray-700 rounded-lg p-6 animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded w-3/4 mb-4"})," ",(0,a.jsx)("div",{className:"h-10 bg-gray-700 rounded w-1/2 mb-6"})," ",(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-full mb-2"})," ",(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-5/6 mb-2"})," ",(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-4/6 mb-6"})," ",(0,a.jsx)("div",{className:"h-10 bg-gray-700 rounded w-full mb-2"})," ",(0,a.jsx)("div",{className:"h-10 bg-gray-700 rounded w-full"})," "]},t))})]})}):b?(0,a.jsxs)("div",{className:"text-center text-red-500 py-16",children:["Error: ",b]}):(0,a.jsxs)("section",{className:"bg-black text-white py-16 px-4 md:py-24",children:[(0,a.jsxs)("div",{className:"container mx-auto max-w-6xl",children:[(0,a.jsx)(d.SectionTitle,{translation:"plans"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((t,s)=>(0,a.jsxs)("div",{className:"border rounded-lg p-6 flex flex-col relative ".concat(t.isBestValue?"border-[#F9B233]":"border-red-600"),children:[t.isBestValue&&(0,a.jsx)("div",{className:"absolute top-0 right-0 bg-[#F9B233] text-black px-4 py-1 rounded-tr-lg rounded-bl-lg text-sm font-bold",children:e("best_value")}),(0,a.jsx)("h3",{className:"text-xl font-bold mb-4 whitespace-nowrap",children:t.duration}),(0,a.jsx)("p",{className:"text-4xl font-bold mb-6",children:t.promoPrice&&"null€"!=t.promoPrice?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"relative inline-block text-[23px] text-gray-500 custom-strike",children:t.price}),(0,a.jsx)("span",{className:"ml-2",children:t.promoPrice})]}):(0,a.jsx)("span",{children:t.price})}),(0,a.jsx)("ul",{className:"flex-grow mb-6",children:t.features.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-center mb-2",children:[(0,a.jsx)(r.A,{className:"text-[#F9B233] mr-2",size:16}),(0,a.jsx)("span",{className:"text-sm",children:e})]},t))}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("button",{onClick:()=>j(t),className:"text-white py-2 px-4 rounded hover:bg-red-700 transition-colors ".concat(t.isBestValue?"bg-[#F9B233] hover:bg-[#f9b033b6]":"bg-red-600"),children:e("add_to_cart")}),(0,a.jsx)("button",{onClick:()=>N(t),className:"border border-white text-white py-2 px-4 rounded hover:bg-white hover:text-black transition-colors",children:e("place_order")})]})]},s))})]}),(0,a.jsxs)("h2",{className:"text-xl md:text-2xl font-semibold text-white mb-4 text-center mt-10",children:[" ",e("test")]})]})}},4790:(e,t,s)=>{s.d(t,{R:()=>o,SubscriptionProvider:()=>n});var a=s(5155),r=s(2115);let l=(0,r.createContext)(void 0),o=()=>{let e=(0,r.useContext)(l);if(!e)throw Error("useSubscription must be used within a SubscriptionProvider");return e},n=e=>{let{children:t}=e,[s,o]=(0,r.useState)(()=>{{let e=localStorage.getItem("subscriptionCount");return e?parseInt(e,10):0}});return(0,r.useEffect)(()=>{localStorage.setItem("subscriptionCount",s.toString())},[s]),(0,a.jsx)(l.Provider,{value:{subscriptionCount:s,setSubscriptionCount:o},children:t})}},7278:(e,t,s)=>{function a(){let e=localStorage.getItem("cart");return e?JSON.parse(e):[]}function r(e){let t=[...a(),e];localStorage.setItem("cart",JSON.stringify(t))}function l(e){let t=a().filter(t=>t.duration!==e);localStorage.setItem("cart",JSON.stringify(t))}s.d(t,{bE:()=>r,dt:()=>l,je:()=>a})}}]);